***************
*** 178,184 ****
          tmp == "shift_jis" || tmp == "cp932")
        return CP932;
      else if (tmp == "euc"   || tmp == "euc_jp" ||
!              tmp == "euc-jp" || tmp == "euc-jp-win" ||
               tmp == "euc-jp-ms" || tmp == "eucjp-ms")
        return EUC_JP;
      else if (tmp == "utf8" || tmp == "utf_8" ||
--- 178,184 ----
          tmp == "shift_jis" || tmp == "cp932")
        return CP932;
      else if (tmp == "euc"   || tmp == "euc_jp" ||
!              tmp == "euc-jp" || tmp == "euc-jp-win" || tmp == "eucjp-win" ||
               tmp == "euc-jp-ms" || tmp == "eucjp-ms")
        return EUC_JP;
      else if (tmp == "utf8" || tmp == "utf_8" ||
